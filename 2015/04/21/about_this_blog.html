<!DOCTYPE html><html><head><title>dev.toihrk.me</title><link href="http://yui.yahooapis.com/pure/0.5.0/pure-min.css" rel="stylesheet" type="text/css"><link href="/layout.css" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png"><link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96"><link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16"><link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-TileImage" content="/mstile-144x144.png"><link href="/github-markdown.css" rel="stylesheet" type="text/css"><link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css" rel="stylesheet" type="text/css"><link href="/page.css" rel="stylesheet" type="text/css"><link href="/2015/04/21/about_this_blog.html" rel="canonical"><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js" type="text/javascript"></script></head><body><header class="pure-u-1-1"><a href="/"><h1>dev.toihrk.me</h1></a></header><div id="articleContainer"><article><div class="publish-date"><time datetime="2015-04-21" pubdate><span class="date-year"><a href="/archives/2015.html">2015</a>/</span><span class="date-month"><a href="/archives/2015-04.html">04</a>/</span><span class="date-day">21</span></time></div><div class="markdown-body"><h1 id="-2015-04-21-about_this_blog-html-"><a href="/2015/04/21/about_this_blog.html">このブログについて</a></h1>
<p>このブログは<strong><a href="https://github.com/jgsme/dev">jgsme/dev</a></strong>にインスパイアされて、もともとはクローンしたものに手を加えて作成した。</p>
<p>手を加えたとは言え主にレイアウトだけの修正で、<code>gulpfile.coffee</code>とか<code>wercker.yml</code>とかには全く手を出せず、<code>Gulp</code>は初めて使うし<code>Wercker</code>なるサービスも初めて使った。</p>
<p>クローンしてから、このブログが公開されるまでのハマりポイントを列挙する</p>
<ul>
<li><p><a href="https://github.com/sindresorhus/github-markdown-css">github-markdown-css</a>がsubmoduleで追加されてること</p>
<ul>
<li>Githubでコード眺めてりゃ一目瞭然<pre><code>git submodule add　git@github.com:sindresorhus/github-markdown-css.git
</code></pre></li>
</ul>
</li>
<li><p>アーカイブページでページが1枚のみだと<strong>prev</strong>ページングリンクが表示されてしまう</p>
<ul>
<li><a href="https://github.com/toihrk-me/dev-blog/commit/b838ac612292fb4d9b9c8016ccde954693769ae6#diff-6a2b91a0310e4628676e6da9e727d3e9">b838ac6</a> 何も考えずに書いた</li>
</ul>
</li>
<li><p>Werckerでデプロイできない</p>
<ul>
<li>Werckerってサービス自体を知らな過ぎた<ul>
<li><a href="http://wercker.com/">http://wercker.com/</a></li>
<li>GithubへのコードのPushをフックしてアプリケーションのテスト，ビルド，デプロイができる便利屋さん</li>
<li>今回はビルドとデプロイの機能を使う</li>
</ul>
</li>
<li><p><code>wercker.yml</code>を読む</p>
<ul>
<li><p>解説サイトに翻弄されDEPLOY TARGETで指定できる変数の意味を取り違えてた</p>
<ul>
<li>Githubにpushするんだから、変数名は適当でも大丈夫だろって思ってたけどそうでもない(当たり前だ)</li>
<li>今回の場合は<code>$github_remote</code>を使ってるようなので、変数名には<code>github_remote</code>にアクセストークン込みのリポジトリのURLを渡す (<a href="https://github.com/toihrk-me/dev-blog/blob/master/wercker.yml#L23">dev-blog/wercker.yml at master · toihrk-me/dev-blog</a>)</li>
</ul>
</li>
<li><p>最終的には<code>master</code>ブランチにコミットがあったらオートデプロイするようになった</p>
<ul>
<li>環境変数名は<code>github_remote</code>で、値には<code>https://{GithubのPersonal access token}@github.com/{アカウント名}/{リポジトリ名}</code><ul>
<li>今回、この<a href="https://github.com/toihrk-me/dev-blog">toirk-me/dev-blog</a>だと、github.com/toihrk-me/dev-blogみたいな感じになる</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>ただ単純にもってくるだけではパクリになってしまうので、今この状態でも十分パクリブログだけれど、スタイルシートをいじった。イメージはGithub。</p>
<p>それだけじゃ面白くなくて、コメント機能なんかもGithub上のissueでやってもらおうかな〜と思い、<a href="https://buttons.github.io/">github:buttons</a>でボタンを吐き出して使った。</p>
<p>パーマリンクを踏んでもらった後の記事単体のページでのissueボタンの挙動は、そのまま<a href="https://github.com/toihrk-me/dev-blog/issues/new">https://github.com/toihrk-me/dev-blog/issues/new</a>に飛んでもらうようになってる。ここでクエリパラメータに<code>title=hogehoge&amp;body=fugafuga</code>みたいにやるとGithubがよしなにやってくれるので便利。</p>
<p>記事の書き方は、やっぱり<a href="http://dev.jgs.me/2015/01/16/updated-blog.html">このブログのアップデートをした - Kaihatsu</a>に則る感じ</p>
<pre><code>1. 書く
2. Push
3. PR
4. masterにマージ
5. deploy
</code></pre><p>でやっていこうと思う。</p>
<p>せっかくGithubでやってるんだしWatchすると、このブログの更新情報が手に取るようにわかりますのでよろしくお願いします！</p>
</div><div class="btns"><a id="issue" href="https://github.com/toihrk-me/dev-blog/issues" data-icon="octicon-issue-opened" data-style="mega" data-count-api="/repos/toihrk-me/dev-blog#open_issues_count" data-count-aria-label="# issues on GitHub" aria-label="Issue toihrk-me/dev-blog on GitHub" class="github-button">Issue</a></div><script src="/page.js" type="text/javascript"></script></article></div><footer class="pure-u-1-1"><ul><li><a href="https://github.com/toihrk-me/dev-blog" data-icon="octicon-eye" data-count-href="/toihrk-me/dev-blog/watchers" data-count-api="/repos/toihrk-me/dev-blog#subscribers_count" data-count-aria-label="# watchers on GitHub" aria-label="Watch toihrk-me/dev-blog on GitHub" class="github-button">Watch</a></li><li><a href="https://github.com/toihrk-me/dev-blog" data-icon="octicon-star" data-count-href="/toihrk-me/dev-blog/stargazers" data-count-api="/repos/toihrk-me/dev-blog#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star toihrk-me/dev-blog on GitHub" class="github-button">Star</a></li><li><a href="https://github.com/toihrk" aria-label="Follow @toihrk on GitHub" class="github-button">Follow @toihrk</a></li></ul><ul><li><a href="/archives" class="button">Archives</a></li><li><a href="http://toihrk.me" class="button">About me</a></li><li><span id="copyright">&copy; 2015 toihrk. All rights reserved.</span></li></ul><script async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script></footer></body></html>